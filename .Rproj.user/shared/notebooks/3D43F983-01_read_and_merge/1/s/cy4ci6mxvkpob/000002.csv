"0","participants_premerge_td <- td %>%"
"0","  group_by(lab, subid) %>%"
"0","  summarize(trialcount = n_distinct(trial_num), "
"0","            rowcount = length(trial_num), trial_error = last(trial_error_type),present_td=TRUE)"
"0",""
"0","participants_premerge_pd <- pd %>%"
"0","  group_by(lab, subid) %>%"
"0","  summarize(lines_in_pd = n(), age_days = first(age_days), notes = first(notes), session_error_type = first(session_error_type), present_pd=TRUE)"
"0",""
"0","all_participants_premerge <- merge(participants_premerge_td, participants_premerge_pd, all.x=TRUE, all.y=TRUE) %>%"
"0","  replace_na(list(present_pd = FALSE, present_td=FALSE))"
"0",""
"0","unmatched_participants_premerge = filter(all_participants_premerge, !(present_td & present_pd))"
"0",""
"0","#Check if any of these are in the metadata that records resolved-unmatched records (pilot, no-trial real kids, subIDs not actually used...)"
"0",""
"0","conf <- read_csv('metadata/true_unmatched_participants.csv') %>%"
"0","  filter(Confirmed == 'X')%>%"
"0","  select(subid, lab, Confirmed)"
"0",""
"0","unmatched_participants_premerge <- merge(unmatched_participants_premerge, conf, all.x=TRUE) %>%"
"0","  replace_na(list(Confirmed = FALSE))%>%"
"0","  filter(Confirmed != 'X')"
"0",""
"0","write_csv(unmatched_participants_premerge, 'metadata/unconfirmed_unmatched_participants.csv')"
